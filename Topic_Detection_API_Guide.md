# ุฏููู ุงุณุชุฎุฏุงู APIs ุฎุฏูุฉ ุงููุดู ุนู ุงูููุงุถูุน ูู Postman

## ๐ ูุธุฑุฉ ุนุงูุฉ
ุฎุฏูุฉ ุงููุดู ุนู ุงูููุงุถูุน (Topic Detection Service) ุชุนูู ุนูู **ุงูุจูุฑุช 8006** ูุชููุฑ ูุฌููุนุฉ ุดุงููุฉ ูู APIs ูุงูุชุดุงู ุงูููุงุถูุน ูู ุงููุตูุต ุจุงุณุชุฎุฏุงู ููุงุฐุฌ ูุฏุฑุจุฉ ุนูู ุจูุงูุงุช ARGSME ู WikiIR.

## ๐ ููููุฉ ุงุณุชูุฑุงุฏ ุงููุฌููุนุฉ ูู Postman

### ุงูุทุฑููุฉ ุงูุฃููู: ุงุณุชูุฑุงุฏ ุงูููู
1. ุงูุชุญ Postman
2. ุงุถุบุท ุนูู "Import"
3. ุงุฎุชุฑ "File" 
4. ุญุฏุฏ ุงูููู `topic_detection_postman_collection.json`
5. ุงุถุบุท "Import"

### ุงูุทุฑููุฉ ุงูุซุงููุฉ: ุงุณุชูุฑุงุฏ ูู Raw JSON
1. ุงูุชุญ Postman
2. ุงุถุบุท ุนูู "Import"
3. ุงุฎุชุฑ "Raw text"
4. ุงูุณุฎ ูุญุชูู ุงูููู JSON ูุงูุตูู
5. ุงุถุบุท "Continue" ุซู "Import"

## ๐๏ธ ุจููุฉ ุงููุฌููุนุฉ

### 1. **Service Information** - ูุนูููุงุช ุงูุฎุฏูุฉ
- **Root - Service Info**: ูุนูููุงุช ุฃุณุงุณูุฉ ุนู ุงูุฎุฏูุฉ
- **Health Check**: ูุญุต ุญุงูุฉ ุงูุฎุฏูุฉ
- **Model Info - ARGSME**: ูุนูููุงุช ูููุฐุฌ ARGSME
- **Model Info - WikiIR**: ูุนูููุงุช ูููุฐุฌ WikiIR
- **Available Datasets**: ูุงุฆูุฉ ุจุงูุจูุงูุงุช ุงููุชุงุญุฉ

### 2. **Topic Detection** - ุงููุดู ุนู ุงูููุงุถูุน
- **Detect Topics - ARGSME (Basic)**: ูุดู ุฃุณุงุณู ููููุงุถูุน ุงูุนุฑุจูุฉ
- **Detect Topics - WikiIR (Basic)**: ูุดู ุฃุณุงุณู ููููุงุถูุน ุงูุฅูุฌููุฒูุฉ
- **Detect Topics - Advanced Settings**: ุฅุนุฏุงุฏุงุช ูุชูุฏูุฉ
- **Detect Topics - Using 'text' field**: ุงุณุชุฎุฏุงู ุญูู ุงููุต ุงูุจุฏูู

### 3. **Topic Prediction (Alias)** - ุงูุชูุจุค ุจุงูููุงุถูุน
- **Predict Topics - ARGSME**: ุชูุจุค ููุจูุงูุงุช ุงูุนุฑุจูุฉ
- **Predict Topics - WikiIR**: ุชูุจุค ููุจูุงูุงุช ุงูุฅูุฌููุฒูุฉ

### 4. **Topic Suggestions** - ุงูุชุฑุงุญุงุช ุงูููุงุถูุน
- **Suggest Topics - ARGSME (Default)**: ุงูุชุฑุงุญุงุช ุงูุชุฑุงุถูุฉ
- **Suggest Topics - WikiIR (Default)**: ุงูุชุฑุงุญุงุช ุงูุชุฑุงุถูุฉ
- **Suggest Topics - Custom Limit**: ุงูุชุฑุงุญุงุช ุจุญุฏ ูุฎุตุต

### 5. **Get Topics** - ุงูุญุตูู ุนูู ุงูููุงุถูุน
- **Get Topics - ARGSME (Default 50)**: ุฃูู 50 ููุถูุน
- **Get Topics - WikiIR (Default 50)**: ุฃูู 50 ููุถูุน
- **Get Topics - Custom Limit (100)**: ุญุฏ ูุฎุตุต 100
- **Get Topics - Small Limit (10)**: ุญุฏ ุตุบูุฑ 10

### 6. **Error Testing** - ุงุฎุชุจุงุฑ ุงูุฃุฎุทุงุก
- **Invalid Dataset Test**: ุงุฎุชุจุงุฑ ุจูุงูุงุช ุบูุฑ ุตุญูุญุฉ
- **Empty Query Test**: ุงุฎุชุจุงุฑ ุงุณุชุนูุงู ูุงุฑุบ
- **Missing Query Test**: ุงุฎุชุจุงุฑ ุงุณุชุนูุงู ููููุฏ

### 7. **Performance Testing** - ุงุฎุชุจุงุฑ ุงูุฃุฏุงุก
- **Long Query Test**: ุงุฎุชุจุงุฑ ุงุณุชุนูุงู ุทููู
- **High Precision Test**: ุงุฎุชุจุงุฑ ุฏูุฉ ุนุงููุฉ
- **Max Topics Test**: ุงุฎุชุจุงุฑ ุฃูุตู ุนุฏุฏ ููุงุถูุน

## ๐ง ุชุดุบูู ุงูุฎุฏูุฉ

### 1. ุชุดุบูู ุงูุฎุฏูุฉ ูุญููุงู
```bash
cd services/topic_detection_service
python main.py
```

### 2. ุงูุชุญูู ูู ุชุดุบูู ุงูุฎุฏูุฉ
```bash
curl http://localhost:8006/health
```

## ๐ ุงูู APIs ุงููุชุงุญุฉ

### 1. **GET /** - ูุนูููุงุช ุงูุฎุฏูุฉ
- **ุงููุตู**: ูุนูููุงุช ุฃุณุงุณูุฉ ุนู ุงูุฎุฏูุฉ ููุงุฆูุฉ ุจุฌููุน ุงูู endpoints
- **ุงููุซุงู**:
```json
{
  "service": "Topic Detection Service",
  "version": "1.0.0",
  "supported_datasets": ["argsme", "wikir"],
  "endpoints": {...}
}
```

### 2. **POST /detect-topics** - ูุดู ุงูููุงุถูุน
- **ุงููุตู**: ููุดู ุงูููุงุถูุน ูู ุงููุต ุงููุฏุฎู
- **ุงููุนุงููุงุช**:
  - `query` ุฃู `text`: ุงููุต ุงููุฑุงุฏ ุชุญูููู
  - `dataset`: "argsme" ุฃู "wikir"
  - `max_topics`: ุฃูุตู ุนุฏุฏ ููุงุถูุน (ุงูุชุฑุงุถู: 10)
  - `min_relevance_score`: ุฃูู ุฏุฑุฌุฉ ุตูุฉ (ุงูุชุฑุงุถู: 0.1)

**ูุซุงู ููุทูุจ**:
```json
{
  "query": "ุงูุฐูุงุก ุงูุงุตุทูุงุนู ูุงูุชุนูู ุงูุขูู",
  "dataset": "argsme",
  "max_topics": 10,
  "min_relevance_score": 0.1
}
```

**ูุซุงู ููุงุณุชุฌุงุจุฉ**:
```json
{
  "query": "ุงูุฐูุงุก ุงูุงุตุทูุงุนู ูุงูุชุนูู ุงูุขูู",
  "dataset": "argsme",
  "detected_topics": [
    {
      "topic": "ุงูุฐูุงุก ุงูุงุตุทูุงุนู",
      "relevance_score": 0.95,
      "frequency": 150,
      "coverage_ratio": 0.08,
      "doc_count": 45
    }
  ],
  "similar_topics": [...],
  "processing_time": 0.123
}
```

### 3. **POST /predict** - ุงูุชูุจุค ุจุงูููุงุถูุน
- **ุงููุตู**: ููุณ `/detect-topics` ููู ุจุชูุณูู ูุจุณุท
- **ุงูุงุณุชุฌุงุจุฉ**:
```json
{
  "topics": [
    {
      "topic": "ุงูุฐูุงุก ุงูุงุตุทูุงุนู",
      "score": 0.95,
      "frequency": 150
    }
  ],
  "dataset": "argsme",
  "query": "ุงูุฐูุงุก ุงูุงุตุทูุงุนู",
  "total_topics": 1
}
```

### 4. **GET /suggest-topics** - ุงูุชุฑุงุญ ุงูููุงุถูุน
- **ุงููุตู**: ููุชุฑุญ ููุงุถูุน ุดุงุฆุนุฉ ูู ุงูุจูุงูุงุช
- **ุงููุนุงููุงุช**:
  - `dataset`: "argsme" ุฃู "wikir"
  - `limit`: ุนุฏุฏ ุงูุงูุชุฑุงุญุงุช (ุงูุชุฑุงุถู: 20)

### 5. **GET /topics** - ุงูุญุตูู ุนูู ุงูููุงุถูุน
- **ุงููุตู**: ูุนุฑุถ ูุงุฆูุฉ ุจุงูููุงุถูุน ุงููุชุงุญุฉ
- **ุงููุนุงููุงุช**:
  - `dataset`: "argsme" ุฃู "wikir"
  - `limit`: ุนุฏุฏ ุงูููุงุถูุน (ุงูุชุฑุงุถู: 50)

### 6. **GET /health** - ูุญุต ุงูุญุงูุฉ
- **ุงููุตู**: ูุชุญูู ูู ุญุงูุฉ ุงูุฎุฏูุฉ ูุงูููุงุฐุฌ ุงููุญููุฉ
- **ุงูุงุณุชุฌุงุจุฉ**:
```json
{
  "status": "healthy",
  "models": {
    "argsme": "loaded",
    "wikir": "loaded"
  },
  "service": "Topic Detection Service"
}
```

### 7. **GET /model-info** - ูุนูููุงุช ุงููููุฐุฌ
- **ุงููุตู**: ูุนูููุงุช ููุตูุฉ ุนู ุงููููุฐุฌ ุงููุญุฏุฏ
- **ุงููุนุงููุงุช**:
  - `dataset`: "argsme" ุฃู "wikir"

### 8. **GET /datasets** - ุงูุจูุงูุงุช ุงููุชุงุญุฉ
- **ุงููุตู**: ูุงุฆูุฉ ุจุฌููุน ุงูุจูุงูุงุช ุงููุชุงุญุฉ ูุญุงูุชูุง

## ๐ฏ ุณููุงุฑูููุงุช ุงูุงุณุชุฎุฏุงู

### 1. **ุงูุงุณุชุฎุฏุงู ุงูุฃุณุงุณู**
1. ุงุจุฏุฃ ุจู **Health Check** ููุชุฃูุฏ ูู ุชุดุบูู ุงูุฎุฏูุฉ
2. ุงุณุชุฎุฏู **Root - Service Info** ูููู ุงูุฎุฏูุฉ
3. ุฌุฑุจ **Detect Topics - ARGSME (Basic)** ูููุตูุต ุงูุนุฑุจูุฉ
4. ุฌุฑุจ **Detect Topics - WikiIR (Basic)** ูููุตูุต ุงูุฅูุฌููุฒูุฉ

### 2. **ุงูุงุณุชุฎุฏุงู ุงููุชูุฏู**
1. ุงุณุชุฎุฏู **Model Info** ูููู ุงูููุงุฐุฌ ุงููุชุงุญุฉ
2. ุฌุฑุจ **Advanced Settings** ูุน ูุนุงููุงุช ูุฎุชููุฉ
3. ุงุณุชุฎุฏู **Suggest Topics** ููุญุตูู ุนูู ุงูุชุฑุงุญุงุช
4. ุฌุฑุจ **Get Topics** ูุงุณุชูุดุงู ุงูููุงุถูุน ุงููุชุงุญุฉ

### 3. **ุงุฎุชุจุงุฑ ุงูุฃุฏุงุก**
1. ุฌุฑุจ **Long Query Test** ูููุตูุต ุงูุทูููุฉ
2. ุงุณุชุฎุฏู **High Precision Test** ููุฏูุฉ ุงูุนุงููุฉ
3. ุฌุฑุจ **Max Topics Test** ูุฃูุตู ุนุฏุฏ ููุงุถูุน

### 4. **ุงุฎุชุจุงุฑ ุงูุฃุฎุทุงุก**
1. ุฌุฑุจ **Invalid Dataset Test** ููุชุญูู ูู ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก
2. ุงุณุชุฎุฏู **Empty Query Test** ููุงุณุชุนูุงูุงุช ุงููุงุฑุบุฉ
3. ุฌุฑุจ **Missing Query Test** ูููุนุงููุงุช ุงูููููุฏุฉ

## ๐ ูุตุงุฆุญ ููุงุณุชุฎุฏุงู ุงูุฃูุซู

### 1. **ุงุฎุชูุงุฑ ุงูุจูุงูุงุช ุงูููุงุณุจุฉ**
- ุงุณุชุฎุฏู **"argsme"** ูููุตูุต ุงูุนุฑุจูุฉ ูุงูุฌุฏุงููุฉ
- ุงุณุชุฎุฏู **"wikir"** ูููุตูุต ุงูุฅูุฌููุฒูุฉ ูุงููุนูููุงุชูุฉ

### 2. **ุถุจุท ุงููุนุงููุงุช**
- `max_topics`: ุงุจุฏุฃ ุจู 10 ุซู ุฒุฏ ุญุณุจ ุงูุญุงุฌุฉ
- `min_relevance_score`: 0.1 ููุนูููุ 0.5+ ููุฏูุฉ ุงูุนุงููุฉ

### 3. **ูุฑุงูุจุฉ ุงูุฃุฏุงุก**
- ุฑุงูุจ `processing_time` ูู ุงูุงุณุชุฌุงุจุงุช
- ุงุณุชุฎุฏู ุงุฎุชุจุงุฑุงุช ุงูุฃุฏุงุก ูููุตูุต ุงูุทูููุฉ

### 4. **ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก**
- ุชุญูู ูู `status_code` ูู ุงูุงุณุชุฌุงุจุงุช
- ุงุณุชุฎุฏู ุงุฎุชุจุงุฑุงุช ุงูุฃุฎุทุงุก ูููู ุงูุณููู ุงููุชููุน

## ๐ ูุชุบูุฑุงุช Postman

ุงููุฌููุนุฉ ุชุญุชูู ุนูู ูุชุบูุฑุงุช ูููุฏุฉ:
- `base_url`: http://localhost:8006
- `service_name`: Topic Detection Service

## ๐งช ุงุฎุชุจุงุฑุงุช ุชููุงุฆูุฉ

ูู ุทูุจ ูุญุชูู ุนูู ุงุฎุชุจุงุฑุงุช ุชููุงุฆูุฉ:
- ูุญุต ุฒูู ุงูุงุณุชุฌุงุจุฉ (ุฃูู ูู 5 ุซูุงู)
- ูุญุต ุชูุณูู JSON
- ูุญุต ุญุงูุฉ ุงููุฌุงุญ (200, 201, 202)

## ๐จ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ูุดุงูู ุดุงุฆุนุฉ:
1. **Connection refused**: ุชุฃูุฏ ูู ุชุดุบูู ุงูุฎุฏูุฉ ุนูู ุงูุจูุฑุช 8006
2. **Model not loaded**: ุชุญูู ูู ูุฌูุฏ ูููุงุช ุงูููุงุฐุฌ
3. **Invalid dataset**: ุงุณุชุฎุฏู "argsme" ุฃู "wikir" ููุท
4. **Empty query**: ุชุฃูุฏ ูู ุฅุฏุฎุงู ูุต ูู `query` ุฃู `text`

### ุญููู:
1. ุชุดุบูู ุงูุฎุฏูุฉ: `python services/topic_detection_service/main.py`
2. ูุญุต ุงูุญุงูุฉ: ุงุณุชุฎุฏู `/health` endpoint
3. ูุญุต ุงูููุงุฐุฌ: ุงุณุชุฎุฏู `/model-info` endpoint
4. ูุญุต ุงูุจูุงูุงุช: ุงุณุชุฎุฏู `/datasets` endpoint

## ๐ ูุซุงู ุดุงูู

```bash
# 1. ุชุดุบูู ุงูุฎุฏูุฉ
cd services/topic_detection_service
python main.py

# 2. ูุญุต ุงูุญุงูุฉ
curl http://localhost:8006/health

# 3. ูุดู ุงูููุงุถูุน
curl -X POST http://localhost:8006/detect-topics \
  -H "Content-Type: application/json" \
  -d '{
    "query": "ุงูุฐูุงุก ุงูุงุตุทูุงุนู ูู ุงูุชุนููู",
    "dataset": "argsme",
    "max_topics": 5
  }'
```

## ๐ ุฑูุงุจุท ูููุฏุฉ

- **ุงูุฎุฏูุฉ ุงูุฃุณุงุณูุฉ**: http://localhost:8006/
- **ูุญุต ุงูุญุงูุฉ**: http://localhost:8006/health
- **ุงููุซุงุฆู ุงูุชููุงุฆูุฉ**: http://localhost:8006/docs (FastAPI Swagger)
- **ุงููุซุงุฆู ุงูุจุฏููุฉ**: http://localhost:8006/redoc (ReDoc)

---

ูุฐุง ุงูุฏููู ูููุฑ ูู ูุง ุชุญุชุงุฌู ูุงุณุชุฎุฏุงู ุฎุฏูุฉ ุงููุดู ุนู ุงูููุงุถูุน ุจูุนุงููุฉ ูู Postman! ๐ 