{
  "info": {
    "name": "Topic Detection Service APIs",
    "description": "مجموعة شاملة لاختبار جميع APIs الخاصة بخدمة الكشف عن المواضيع",
    "version": "1.0.0",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Service Information",
      "item": [
        {
          "name": "Root - Service Info",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:8006/",
              "protocol": "http",
              "host": ["localhost"],
              "port": "8006",
              "path": [""]
            }
          },
          "response": []
        },
        {
          "name": "Health Check",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:8006/health",
              "protocol": "http",
              "host": ["localhost"],
              "port": "8006",
              "path": ["health"]
            }
          },
          "response": []
        },
        {
          "name": "Model Info - ARGSME",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:8006/model-info?dataset=argsme",
              "protocol": "http",
              "host": ["localhost"],
              "port": "8006",
              "path": ["model-info"],
              "query": [
                {
                  "key": "dataset",
                  "value": "argsme"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Model Info - WikiIR",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:8006/model-info?dataset=wikir",
              "protocol": "http",
              "host": ["localhost"],
              "port": "8006",
              "path": ["model-info"],
              "query": [
                {
                  "key": "dataset",
                  "value": "wikir"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Available Datasets",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:8006/datasets",
              "protocol": "http",
              "host": ["localhost"],
              "port": "8006",
              "path": ["datasets"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Topic Detection",
      "item": [
        {
          "name": "Detect Topics - ARGSME (Basic)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"query\": \"الذكاء الاصطناعي والتعلم الآلي\",\n  \"dataset\": \"argsme\",\n  \"max_topics\": 10,\n  \"min_relevance_score\": 0.1\n}"
            },
            "url": {
              "raw": "http://localhost:8006/detect-topics",
              "protocol": "http",
              "host": ["localhost"],
              "port": "8006",
              "path": ["detect-topics"]
            }
          },
          "response": []
        },
        {
          "name": "Detect Topics - WikiIR (Basic)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"query\": \"machine learning artificial intelligence\",\n  \"dataset\": \"wikir\",\n  \"max_topics\": 10,\n  \"min_relevance_score\": 0.1\n}"
            },
            "url": {
              "raw": "http://localhost:8006/detect-topics",
              "protocol": "http",
              "host": ["localhost"],
              "port": "8006",
              "path": ["detect-topics"]
            }
          },
          "response": []
        },
        {
          "name": "Detect Topics - Advanced Settings",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"query\": \"التعليم الإلكتروني والتكنولوجيا التعليمية\",\n  \"dataset\": \"argsme\",\n  \"max_topics\": 15,\n  \"min_relevance_score\": 0.05\n}"
            },
            "url": {
              "raw": "http://localhost:8006/detect-topics",
              "protocol": "http",
              "host": ["localhost"],
              "port": "8006",
              "path": ["detect-topics"]
            }
          },
          "response": []
        },
        {
          "name": "Detect Topics - Using 'text' field",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"text\": \"الطب والصحة العامة والوقاية من الأمراض\",\n  \"dataset\": \"argsme\",\n  \"max_topics\": 8,\n  \"min_relevance_score\": 0.2\n}"
            },
            "url": {
              "raw": "http://localhost:8006/detect-topics",
              "protocol": "http",
              "host": ["localhost"],
              "port": "8006",
              "path": ["detect-topics"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Topic Prediction (Alias)",
      "item": [
        {
          "name": "Predict Topics - ARGSME",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"query\": \"البيئة والتلوث والاستدامة\",\n  \"dataset\": \"argsme\",\n  \"max_topics\": 5\n}"
            },
            "url": {
              "raw": "http://localhost:8006/predict",
              "protocol": "http",
              "host": ["localhost"],
              "port": "8006",
              "path": ["predict"]
            }
          },
          "response": []
        },
        {
          "name": "Predict Topics - WikiIR",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"query\": \"climate change environmental protection\",\n  \"dataset\": \"wikir\",\n  \"max_topics\": 5\n}"
            },
            "url": {
              "raw": "http://localhost:8006/predict",
              "protocol": "http",
              "host": ["localhost"],
              "port": "8006",
              "path": ["predict"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Topic Suggestions",
      "item": [
        {
          "name": "Suggest Topics - ARGSME (Default)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:8006/suggest-topics?dataset=argsme",
              "protocol": "http",
              "host": ["localhost"],
              "port": "8006",
              "path": ["suggest-topics"],
              "query": [
                {
                  "key": "dataset",
                  "value": "argsme"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Suggest Topics - WikiIR (Default)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:8006/suggest-topics?dataset=wikir",
              "protocol": "http",
              "host": ["localhost"],
              "port": "8006",
              "path": ["suggest-topics"],
              "query": [
                {
                  "key": "dataset",
                  "value": "wikir"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Suggest Topics - Custom Limit",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:8006/suggest-topics?dataset=argsme&limit=30",
              "protocol": "http",
              "host": ["localhost"],
              "port": "8006",
              "path": ["suggest-topics"],
              "query": [
                {
                  "key": "dataset",
                  "value": "argsme"
                },
                {
                  "key": "limit",
                  "value": "30"
                }
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Get Topics",
      "item": [
        {
          "name": "Get Topics - ARGSME (Default 50)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:8006/topics?dataset=argsme",
              "protocol": "http",
              "host": ["localhost"],
              "port": "8006",
              "path": ["topics"],
              "query": [
                {
                  "key": "dataset",
                  "value": "argsme"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get Topics - WikiIR (Default 50)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:8006/topics?dataset=wikir",
              "protocol": "http",
              "host": ["localhost"],
              "port": "8006",
              "path": ["topics"],
              "query": [
                {
                  "key": "dataset",
                  "value": "wikir"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get Topics - Custom Limit (100)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:8006/topics?dataset=argsme&limit=100",
              "protocol": "http",
              "host": ["localhost"],
              "port": "8006",
              "path": ["topics"],
              "query": [
                {
                  "key": "dataset",
                  "value": "argsme"
                },
                {
                  "key": "limit",
                  "value": "100"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get Topics - Small Limit (10)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:8006/topics?dataset=wikir&limit=10",
              "protocol": "http",
              "host": ["localhost"],
              "port": "8006",
              "path": ["topics"],
              "query": [
                {
                  "key": "dataset",
                  "value": "wikir"
                },
                {
                  "key": "limit",
                  "value": "10"
                }
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Error Testing",
      "item": [
        {
          "name": "Invalid Dataset Test",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"query\": \"test query\",\n  \"dataset\": \"invalid_dataset\"\n}"
            },
            "url": {
              "raw": "http://localhost:8006/detect-topics",
              "protocol": "http",
              "host": ["localhost"],
              "port": "8006",
              "path": ["detect-topics"]
            }
          },
          "response": []
        },
        {
          "name": "Empty Query Test",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"query\": \"\",\n  \"dataset\": \"argsme\"\n}"
            },
            "url": {
              "raw": "http://localhost:8006/detect-topics",
              "protocol": "http",
              "host": ["localhost"],
              "port": "8006",
              "path": ["detect-topics"]
            }
          },
          "response": []
        },
        {
          "name": "Missing Query Test",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"dataset\": \"argsme\"\n}"
            },
            "url": {
              "raw": "http://localhost:8006/detect-topics",
              "protocol": "http",
              "host": ["localhost"],
              "port": "8006",
              "path": ["detect-topics"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Performance Testing",
      "item": [
        {
          "name": "Long Query Test",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"query\": \"الذكاء الاصطناعي والتعلم الآلي وتطبيقاته في مجال الطب والصحة والتعليم والتكنولوجيا المالية والأمن السيبراني والبيئة والاستدامة والطاقة المتجددة والنقل الذكي والمدن الذكية\",\n  \"dataset\": \"argsme\",\n  \"max_topics\": 20,\n  \"min_relevance_score\": 0.05\n}"
            },
            "url": {
              "raw": "http://localhost:8006/detect-topics",
              "protocol": "http",
              "host": ["localhost"],
              "port": "8006",
              "path": ["detect-topics"]
            }
          },
          "response": []
        },
        {
          "name": "High Precision Test",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"query\": \"التعليم الإلكتروني\",\n  \"dataset\": \"argsme\",\n  \"max_topics\": 5,\n  \"min_relevance_score\": 0.8\n}"
            },
            "url": {
              "raw": "http://localhost:8006/detect-topics",
              "protocol": "http",
              "host": ["localhost"],
              "port": "8006",
              "path": ["detect-topics"]
            }
          },
          "response": []
        },
        {
          "name": "Max Topics Test",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"query\": \"التكنولوجيا\",\n  \"dataset\": \"argsme\",\n  \"max_topics\": 50,\n  \"min_relevance_score\": 0.01\n}"
            },
            "url": {
              "raw": "http://localhost:8006/detect-topics",
              "protocol": "http",
              "host": ["localhost"],
              "port": "8006",
              "path": ["detect-topics"]
            }
          },
          "response": []
        }
      ]
    }
  ],
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "type": "text/javascript",
        "exec": [
          "// Pre-request script لإضافة timestamp",
          "pm.globals.set('timestamp', Date.now());"
        ]
      }
    },
    {
      "listen": "test",
      "script": {
        "type": "text/javascript",
        "exec": [
          "// Test script أساسي لجميع الطلبات",
          "pm.test('Response time is less than 5000ms', function () {",
          "    pm.expect(pm.response.responseTime).to.be.below(5000);",
          "});",
          "",
          "pm.test('Response is JSON', function () {",
          "    pm.expect(pm.response.headers.get('Content-Type')).to.include('application/json');",
          "});",
          "",
          "pm.test('Status code is successful', function () {",
          "    pm.expect(pm.response.code).to.be.oneOf([200, 201, 202]);",
          "});"
        ]
      }
    }
  ],
  "variable": [
    {
      "key": "base_url",
      "value": "http://localhost:8006",
      "type": "string"
    },
    {
      "key": "service_name",
      "value": "Topic Detection Service",
      "type": "string"
    }
  ]
} 